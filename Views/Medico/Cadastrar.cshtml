@model  SisPDC.DTOs.PessoaClinicoDTO
@{
    Layout = "_LayoutAdmin";
    ViewData["Title"] = "Cadastrar Pessoal Clínico";
}

@section Styles {
    <link href="~/css/pessoalClinico.css" rel="stylesheet" />
}

<div class="content-wrapper">
    <div class="data-table-card">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="bi bi-person-plus-fill me-2"></i> Adicionar Pessoal Clínico
                </h5>
            </div>
            
            <div class="card-body">
                <form asp-action="Cadastrar" asp-controller="Medico" method="post">
                    
                    @* --- SEÇÃO: DADOS PESSOAIS E CREDENCIAIS --- *@
                    <h6 class="text-primary mb-3"><i class="bi bi-person-vcard me-2"></i> Dados de Acesso e Pessoais</h6>
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label asp-for="Nome" for="Nome" class="form-label">Nome Completo</label>
                            <span asp-validation-for="Nome" class="text-danger"></span>
                            <input asp-for="Nome" id="Nome" type="text" class="form-control" 
                                   placeholder="Nome do Médico/Enfermeiro" />
                        </div>

                        <div class="col-md-6">
                            <label asp-for="EmailAcesso" for="Email" class="form-label">Email de Acesso</label>
                            <span asp-validation-for="EmailAcesso" class="text-danger"></span>
                            <input asp-for="EmailAcesso" id="Email" type="email" class="form-control" 
                                   placeholder="mazunga@hospital.ao"/>
                        </div>
                        
                        @* Data de Nascimento *@
                        <div class="col-md-4">
                            <label asp-for="DataNascimento" for="DataNascimento" class="form-label">Data de Nascimento</label>
                            <span asp-validation-for="DataNascimento" class="text-danger"></span>
                            <input asp-for="DataNascimento" id="DataNascimento" type="date" class="form-control"/>
                        </div>
                        
                        @* Telefone *@
                        <div class="col-md-4">
                            <label asp-for="Telefone" for="Telefone" class="form-label">Telefone</label>
                            <span asp-validation-for="Telefone" class="text-danger"></span>
                            <input asp-for="Telefone" id="Telefone" type="tel" class="form-control" 
                                   placeholder="+244 9XX XXX XXX" />
                        </div>

                        @* Cargo *@
                        <div class="col-md-4">
                            <label asp-for="Cargo" class="form-label">Cargo</label>
                            <span asp-validation-for="Cargo" class="text-danger"></span>
                            <select asp-for="Cargo" id="Cargo" class="form-select">
                                <option value="">Selecione o Cargo</option>
                                <option value="Farmacêutico">Farmacêutico</option>
                                <option value="Analista Clínico">Analista Clínico</option>
                                <option value="Médico">Médico</option>
                                <option value="Enfermeiro">Enfermeiro</option>
                                <option value="Administrativo">Administrativo</option>
                            </select>
                        </div>
                    </div>

                    <hr class="mb-4" />

                    @* --- SEÇÃO: DADOS PROFISSIONAIS E ENDEREÇO --- *@
                    <h6 class="text-primary mb-3"><i class="bi bi-hospital-fill me-2"></i> Dados Profissionais e Endereço</h6>
                    <div class="row g-3 mb-4">

                        @* idUtilizador (Oculto - Campo da Tabela) *@
                        <input name="IdUtilizador" type="hidden" value="1" />

                        @* idEspecialidade (Dropdown) *@
                        <div class="col-md-6">
                            <label asp-for="IdEspecialidade" for="IdEspecialidade" class="form-label">Especialidade</label>
                            @* Dropdown Simulado: Usa listaEspecialidadesExemplo *@
                            <select name="IdEspecialidade" id="IdEspecialidade" class="form-select">
                                <option value="">Selecione a Especialidade</option>
                                <option value="">Farmacia</option>
                            </select>
                            <span class="text-danger"></span>
                        </div>
                        
                        @* Número de Cédula - Exibido condicionalmente *@
                        <div class="col-md-4" id="divNumeroCedula">
                            <label asp-for="NumeroCedula" class="form-label">Número de Cédula Profissional</label>
                            <span asp-validation-for="NumeroCedula" class="text-danger"></span>
                            <input asp-for="NumeroCedula" class="form-control" placeholder="Ex: 12345/AO" />
                        </div>

                        @* Morada *@
                        <div class="col-12">
                            <label asp-for="Morada" for="Morada" class="form-label">Morada</label>
                            <span asp-validation-for="Morada" class="text-danger"></span>
                            <input asp-for="Morada" name="Morada" id="Morada" type="text" class="form-control" 
                                   placeholder="Rua, Bairro e Número"/>
                        </div>
                        
                        @* Código Postal *@
                        <div class="col-md-6">
                            <label asp-for="CodigoPostal" for="CodigoPostal" class="form-label">Código Postal</label>
                            <span asp-validation-for="CodigoPostal" class="text-danger"></span>
                            <input asp-for="CodigoPostal" name="CodigoPostal" id="CodigoPostal" type="text" class="form-control" 
                                   placeholder="Ex: 1000-001"/>
                        </div>
                        
                        @* Localidade *@
                        <div class="col-md-6">
                            <label asp-for="Localidade" for="Localidade" class="form-label">Localidade</label>
                            <span asp-validation-for="Localidade" class="text-danger"></span>
                            <input asp-for="Localidade" id="Localidade" type="text" class="form-control" 
                                   placeholder="Cidade ou Município"/>
                        </div>
                        
                        @* Ativo *@
                        <div class="col-12 mt-4">
                             <div class="form-check">
                                <input asp-for="Ativo" id="Ativo" type="checkbox" class="form-check-input" 
                                       checked />
                                <span asp-validation-for="Ativo" class="text-danger"></span>
                                <label for="Ativo" class="form-check-label">Conta Ativa (Pode fazer login)</label>
                            </div>
                        </div>

                    </div>

                    <hr class="mb-4" />

                    @* --- BOTÕES DE AÇÃO --- *@
                    <div class="d-flex gap-2 justify-content-end">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="bi bi-save me-2"></i> Registar Pessoal Clínico
                        </button>
                        
                        <a asp-action="Listar" asp-controller="Medico" class="btn btn-secondary btn-lg">
                            <i class="bi bi-x-circle me-2"></i> Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>