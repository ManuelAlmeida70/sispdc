@{
    Layout = "_LayoutAdmin";
    ViewData["Title"] = "Editar Pessoal Clínico (Layout Estático)";

    // VARIÁVEIS DE DADOS ESTÁTICOS (PLACEHOLDER)
    var idClinico = "105";
    var nomeClinico = "Dr. João Silva";
    var cargoClinico = "Médico";
    var especialidadeId = "2"; // ID da especialidade atual (Ex: Pediatria)
    var loginAtivo = true;      // Novo campo: Estado do Login (true = Ativo)
    var urlBase = "/PessoalClinico";

    // Lista de Especialidades de Exemplo para o Dropdown
    var especialidades = new List<(string Id, string Descricao)>
    {
        ("1", "Cardiologia"),
        ("2", "Pediatria"), // Selecionado
        ("3", "Oftalmologia"),
        ("4", "Ortopedia")
    };
}
@section Styles {
    <link href="~/css/pessoalClinico.css" rel="stylesheet" />
}
<div class="content-wrapper">
    <div class="data-table-card">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="bi bi-pencil-square me-2"></i>Editar Pessoal Clínico
                </h5>
            </div>
            <div class="card-body">
                @* Formulário de Edição *@
                <form action="@(urlBase)/EditarConfirmar" method="post">

                    @* Campo Oculto para o ID (Essencial para a Edição) *@
                    <input type="hidden" name="Id" value="@idClinico" />

                    <div class="row">
                        @* Coluna 1: Nome, Cargo, Especialidade *@
                        <div class="col-md-7">

                            @* Campo 1: Nome Completo *@
                            <div class="mb-3">
                                <label for="Nome" class="form-label">Nome Completo</label>
                                <input name="Nome" id="Nome" type="text"
                                       class="form-control"
                                       value="@nomeClinico"
                                       placeholder="Digite o nome completo do clínico..." />
                            </div>

                            @* Campo 2: Cargo (ou Título Profissional) *@
                            <div class="mb-3">
                                <label for="Cargo" class="form-label">Cargo / Título</label>
                                <input name="Cargo" id="Cargo" type="text"
                                       class="form-control"
                                       value="@cargoClinico"
                                       placeholder="Ex: Médico, Enfermeiro, Técnico..." />
                            </div>

                            @* Campo 3: Especialidade (Usando Dropdown/Select) *@
                            <div class="mb-3">
                                <label for="EspecialidadeId" class="form-label">Especialidade</label>
                                <select name="EspecialidadeId" id="EspecialidadeId" class="form-select">
                                    <option value="">-- Selecione a Especialidade --</option>
                                    @foreach (var especialidade in especialidades)
                                    {
                                        <option value="@especialidade.Id"
                                                selected="@(especialidade.Id == especialidadeId ? "selected" : null)">
                                            @especialidade.Descricao
                                        </option>
                                    }
                                </select>
                            </div>
                        </div>

                        @* Coluna 2: Status do Login *@
                        <div class="col-md-5">
                            <div class="p-3 border rounded h-100 bg-light">
                                <label class="form-label d-block mb-3 fw-bold">Gestão de Acesso / Login</label>

                                @* Campo 4: Login Ativo/Desativo (Checkbox) *@
                                <div class="form-check form-switch mt-2">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                           id="LoginAtivo" name="LoginAtivo"
                                           @(loginAtivo ? "checked" : "")> @* Atributo 'checked' baseado na variável estática *@

                                    <label class="form-check-label" for="LoginAtivo">
                                        @if (loginAtivo)
                                        {
                                            <span class="text-success fw-bold">Login Ativo</span>
                                        }
                                        else
                                        {
                                            <span class="text-danger fw-bold">Login Desativado</span>
                                        }
                                    </label>
                                    <small class="d-block text-muted mt-2">
                                        Controla se o clínico pode aceder ao sistema com as suas credenciais.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div> @* Fim da Row *@

                    @* Botões de Ação *@
                    <div class="d-flex gap-2 justify-content-end pt-4 mt-3 border-top">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="bi bi-check-circle me-2"></i> Atualizar Edição
                        </button>

                        <a asp-action="Listar" asp-controller="Medico" class="btn btn-secondary btn-lg">
                            <i class="bi bi-x-circle me-2"></i> Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>